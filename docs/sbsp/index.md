---
title: 声笔三拼（概念版）介绍
date: 2024-02-25
---

<script setup>
import Practice from '../../components/Practice.vue'

const shengma = Object.entries({
  zh: 'w',
  ch: 'y',
  sh: 'v',
  零开: 'r',
  零合: 's',
  零齐: 'f',
  零撮: 'k'
});

const yunma = Object.entries({
  // 开口
  a: 'a',
  ai: 'ai',
  ao: 'au',
  an: 'aa',
  ang: 'ao',
  e: 'e',
  ei: 'ei',
  en: 'ea',
  eng: 'eo',
  er: 'i',
  o: 'o',
  ou: 'ou',
  ong: 'oo',
  // 合口
  u: 'u',
  ua: 'i',
  uai: 'ii',
  uan: 'ia',
  uang: 'io',
  uo: 'o',
  uei: 'ui',
  uen: 'ua',
  ueng: 'uo',
  // 齐齿
  i: 'i',
  ia: 'u',
  iao: 'uu',
  ian: 'ua',
  iang: 'uo',
  ie: 'o',
  in: 'ia',
  ing: 'io',
  io: 'e',
  iong: 'eo',
  iou: 'eu',
  // 撮口
  ü: 'e',
  üan: 'aa',
  üe: 'a',
  ün: 'ea',
})
</script>

## 引言

声笔拼音和声笔简整是声笔系列码中简单高效的代表，在连续文本上有很大的优势。但是，在实际使用中也有一些不理想的地方：

1. 即使使用了扩展编码，重码仍然比较多；
2. 前三码不能很有效地覆盖高频词，所以在使用初期会出现三码时的首选词来回跳变的情况。例如，声笔简整的「以」和「又」这两个高频单音节词的前三码都是 yao，所以 yao 的首选可能会在「以」和「又」之间来回变化，降低了输入体验；
3. 声笔简整最多需要打 4 个连续的笔画，可能会深入到字的内部，连续取笔顺的思维难度比较高；另外打词的时候也需要大量使用笔画，对词中包含不常用字的情况不够友好；
4. 声笔拼音没有笔画过多的问题，更加易用，但是它不区分平翘舌、不区分前后鼻音，这对母语可以区分这些音素的北方官话的使用者来说是浪费了分辨能力。

声笔系列码 10.0 将声笔拼音用雾凇拼音的词库和汉字的原始笔画信息重构之后，用户可以在声笔拼音的基础上通过拼写运算改变拼写来创作出自己的输入方案。「声笔三拼」就是这样的一个案例。

## 设计理念

声笔三拼在设计时的考量主要是以下几点，按重要性排列：

1. 充分发挥普通话拼音自身的分辨能力，减少音节之间的重码，而所使用的编码空间保持为和声笔拼音、声笔简码相同；
2. 让前三码尽可能覆盖高频的 2000 词，提高编码效率；
3. 减少扩展编码的选重率，特别是需要翻页选重的情况；
4. 在声母和韵母不乱序的情况下尽可能优化键位的使用率以及双键组合的顺手程度；
5. 根据「频率为主、语义优先」的思想设置固顶字词，大大降低了固顶字词的记忆难度以及提高了输入的确定性。

此外，声笔三拼采用的对声母和韵母的定义完全符合《汉语拼音方案》中的原始形式，没有受到全拼特有的正字法的影响。在这个意义上，声笔三拼比一般的双拼方案更加规范。

## 基本元素

声笔三拼所使用的编码元素有三种：声母、韵母和笔画。读音遵照《通用规范汉字字典》，而笔画遵照 GF0023-2020《通用规范汉字笔顺规范》，具有简单、规范、无歧义的特点。

首先展示一张整体的示意图，如果看懂了这个示意图，就可以跳过这一节，直接看下面的[编码方式](#编码方式)了。

![](https://images.tansongchen.com/1709771177.png)

### 声码

《汉语拼音方案》中，如果不考虑零声母，则声母的数量正好为 21 个：

```
b p m f d t n l
g k h j q x
zh ch sh r z c s
```

而 26 个拉丁字母去掉 aeiou 之后也正好是 21 个。一种自然的想法就是让这 21 个非零声母与这 21 个字母一一对应，而零声母再另外想办法。本案中，`zh`, `ch`, `sh` 这三个声母对应的声码分别为 `w`, `y`, `v`，而其他的单字母声母对应的声码就是它们自身。注意，全拼中以 `y`, `w` 开头的音节没有像普通双拼一样看作是形式上的声母，而是作为零声母音节处理。

零声母音节则可以根据韵母的特点进一步分为 4 类：

1. 全拼以 `a, o, e` 开头的音节具有「开口呼」韵母，其声码规定为 `r`；
2. 全拼以 `w` 开头的音节如 `wa`, `wai`, ... 本质上是「合口呼」韵母 `ua`, `uai`, ... 的变形，其声码规定为 `s`；
3. 全拼以 `y` 开头的音节如 `ya`, `yao`, ... 本质上是「齐齿呼」韵母 `ia`, `iao`, ... 的变形，其声码规定为 `f`；
4. 全拼以 `yu` 开头的音节如 `yu`, `yuan`, ... 本质上是「撮口呼」韵母 `ü`, `üan`, ... 的变形，其声码规定为 `k`；

总结：零声母分为四份，分别与四个非零声母共用一个声码。

### 声码练习

<Practice :data="shengma" name="sbsp-shengma" />

### 韵码

《汉语拼音方案》中，每个韵母都可以分析为介音、主元音、韵尾三部分。韵尾可能有也可能没有，比如 `ba` 这样的音节就没有韵尾，而 `bai, ban, bang` 分别具有韵尾 `-i`, `-n`, `-ng`。

在声笔三拼方案中，介音和主元音看作一个整体（称为韵头）编为一码，而韵尾编为一码。因此，有韵尾的情况下韵码是两码，无韵尾的情况下韵码是一码。

韵头和韵尾都分别对应到 `a`, `e`, `i`, `o`, `u` 五个字母，具体的安排如图所示。观察图中的表格，很容易发现规律。韵尾必定是 `-i`, `-u`, `-n`, `-ng` 和无韵尾这五种情况之一，无韵尾不需要打出来，所以只需要记住 `a` 代表 `-n` 而 `o` 代表 `-ng` 即可。韵头的情况稍微多一些，因为有 10 个非单字母的韵头都需要安排键位，需要逐一记忆。

有一个韵母需要特别注意，就是全拼中的 `iu` 实际上是 `iou` 的缩写形式，在本案中是用原形来编码的，分析为 `io + u`，韵码是 `eu`。如「就」的拼写是 `jeu` 而不是 `jiu`，「有」的拼写是 `feu` 而不是 `fiu`。

图中有 10 个音节的示例，对照着看很容易掌握三拼的拼法。针对和双拼拼法差异较大的一些零声母音节，附录中有[更多示例](#零声母音节的拼写示例)。

### 韵码练习

<Practice :data="yunma" name="sbsp-yunma" />

### 笔画码

汉字具有横、竖、撇、点、折这五类笔画，分别用 `e`, `i`, `u`, `o`, `a` 来代表。声笔三拼中，一般只需要取字的第一笔作为笔画码，少部分情况下可能会用到第二笔和第三笔。

## 编码方式

### 基本编码

声笔三拼的基本编码是：

> 依次取词的各个音节的声码和末音节的韵码，且如果末音节没有韵尾就再补对应字首笔的笔画码。

以下针对不同长度的词分别举几个例子：

1. 单音节词的基本编码为 3 码，例如「百」的编码为 `bai`，而「四」的编码为 `sii`（`i` 代表首笔竖）；
2. 双音节词的基本编码为 4 码，例如「你好」的编码为 `nhau`，而「关系」的编码为 `gxiu`（`u` 代表首笔撇）；
3. 三音节词的基本编码为 5 码，例如「站起来」的编码为 `wqlai`，而「对不起」的编码为 `dbqie`（`e` 代表首笔横）；
4. 四音节词的基本编码为 6 码，例如「感同身受」的编码为 `gtvvou`，而「登堂入室」的编码为 `dtrvio`（`o` 代表首笔点）；
5. 以此类推，$n$ 音节词的基本编码为 $n + 2$ 码。

对于大于等于五个音节的词语，进一步规定第五个声码以及之后的所有声码需要用大写字母来输入。例如「科学发展观」的编码为 `kxfwGio`，「哀莫大于心死」的编码为 `rmdkXSie`，「中华人民共和国」的编码为 `whrmGHGoi`。这样设计的原因将在[顶功](#顶功)一节中讲解。

### 扩展编码

只输入基本编码的时候可能产生较多的重码，影响输入效率，这时可以使用扩展编码：

> 打完基本编码后，回头追加首音节的韵码，然后从对应字首笔开始追加笔画码，笔画最多打 3 个。
>

实际使用中，一般来讲只需要输入一两个扩展编码就足以离散重码了。以下再举几个例子：

1. 单音节词的扩展编码：「喵」的编码为 `muuia`，`ia` 是补的两个笔画；
2. 双音节词的扩展编码：「蒹葭」的编码为 `jjueuo`（`uo` 是首字的韵码），「蹉跎」的编码为 `ctoioi`（`oi` 是首字的韵码和首笔画码）；
3. 以此类推，$n$ 音节词的扩展编码为 $n+3$ 码或更多码。

### 缩减编码

缩减编码是指不需要将编码完整输入，而是输入前几个字母时也能打出该词。例如，

1. 单音节词的缩减编码可以是 1 或 2 码，例如「就」的缩减编码是 `j`，「时」的缩减编码是 `vi`；
2. 双音节词的缩减编码可以是 2 或 3 码，例如「时间」的缩减编码是 `vj`，「生活」的缩减编码是 `vho`；
3. 以此类推，$n$ 音节词的缩减编码为 $n$ 码或者 $n+1$ 码。

## 功能

### 顶功

声笔三拼的编码具有很强的顶功特性。

对于单音节词、双音节词、三音节词来说，除了 $n$ 码的缩减编码需要使用空格上屏之外，其他的编码种类都能在输入下一个词的首码的时候自动被顶上屏。

对于四音节词以及更长的词来说，所有的编码种类都能在输入下一个词的首码的时候自动被顶上屏。这是因为前面规定了第五个声码以及后面的声码都用大写字母输入，和下一个词的首码没有重叠。

### 固顶

一般情况下，输入各种编码时候选的排序会随着用户的使用逐渐调整，以贴合用户的使用习惯。但是，如果高频词的排序常常变动，则难以熟练掌握。因此，声笔三拼精心设计了一些固顶词，这些词在输入对应编码时总是处于首位，可以直接顶屏或者（在不能顶屏的情况下）用空格上屏，并且这些都定义在 `sbsp.fixed.txt` 中，可以自由修改。

声笔简整和声笔拼音只对前两码设计了固顶词，但是声笔三拼对前三码都设计了固顶词。这使得在一般的连续性输入文本中固顶词的总频率已经达到了 70% 以上，所以掌握固顶词可以快速提高输入方案的熟练度。

为了减小固顶词的记忆难度，声笔三拼选取固顶词的时候采取了语义优先的策略，也就是语义相关的词往往具有相同或相关的固顶码长，记住一个往往就记住了一大片。试看以下案例：

#### 虚词

- 助词：的 `;` 地 `di` 得 `de` 了 `/` 着 `we` 等 `deo`
- 连词：
  - 和 `h` 与 `ke` 而 `ri` 但 `daa` 或 `ho`
  - 因为 `fs` 所以 `sf` 虽然 `sr` 但是 `dv` 不过 `bg` 而且 `rq` 然后 `rh` 并且 `bq` 然而 `rr` 当然 `dr` 因此 `fc` 如果 `rg` 于是 `kv` 原来 `kl`
- 叹词：吧 `ba` 呢 `ne` 吗 `ma` 啊 `ra` 嗯 `re` 哦 `ro` 都是两码
- 介词：在 `z` 把 `bae` 对 `du` 从 `c` 以 `fi` 所 `so` 为 `su` 被 `be` 向 `xu` 用 `feo`
- 代词
  - 我 `s` 你 `n` 他 `t` 她 `ta` 它 `tao`
  - 我们 `sm` 你们 `nm` 他们 `tm` 她们 `tme` 它们 `tmeo`
  - 自己 `zj`，什么 `vm`，谁 `vei`
  - 这 `w` 那 `na` 哪 `nai`
  - 这个 `wg` 那个 `ng` 哪个 `nge`
  - 这里 `wl` 那里 `nl` 哪里 `nli`
  - 这种 `ww` 那种 `nw` 哪种 `nwo`
  - 这些 `wx` 那些 `nx` 哪些 `nxo`
  - 这么 `wm` 那么 `nm` 怎么 `zm`
  - 这样 `wf` 那样 `nf` 怎样 `zf`


#### 实词

- 数量
  - 数词：零 `lia` 一 `fie` 两 `lio` 二 `rie` 三 `saa` 四 `sii` 五 `sue` 六 `leu` 七 `qie` 八 `bau` 九 `jeu` 十 `vie` 百 `bai` 千 `qua` 万 `sia` 亿 `fiu` 都是三码
  - 量词：个 `g` 种 `woo` 次 `ci`
  - 数量：
    - 一个 `fg` 两个 `lg` 三个 `sg`
    - 一下 `fx` 一般 `fb` 一样 `ff` 一种 `fw` 一次 `fc`
- 名词
  - 天 `tu` 人 `r` 金 `jio` 木 `mue` 水 `vui` 火 `hoo` 土 `tue`
  - 时间名词：年 `nua` 月 `kau` 日 `rii` 时 `vi` 今天 `jt` 明天 `mt` 昨天 `zt` 现在 `xz` 过去 `gq` 未来 `sl` 之前 `wq` 之后 `wh` 以前 `fq` 以后 `fh` 时间 `vj` 时候 `vh`
  - 方位名词：上 `va` 下 `xu` 前 `qu` 后 `ho` 里 `li` 中 `wo`，上面 `vm` 下面 `xm` 前面 `qm` 后面 `hm` 里面 `lm` 中间 `wj` 是两码，左 `zoe` 右 `feu` 是三码；
- 动词
  - 动词：有 `f` 没 `m` 没有 `mf` 到 `da` 看 `ka` 做 `zo` 走 `zou` 需要 `xy`
  - 感觉 `gj` 认为 `rw` 思考 `sk` 觉得 `jd` 知道 `wd` 发现 `fx` 
  - 趋向动词：来 `l` 去 `q` 出 `yu` 入 `ru` 进 `ji` 出来 `yl` 出去 `yq` 进来 `jl` 进去 `jq`
  - 能愿动词：要 `fu` 能 `ne` 会 `hu` 不要 `by` 不能 `bn` 不会 `bh`
  - 联系动词：是 `v` 不是 `bv`
- 形容词
  - 大 `d` 小 `x` 多 `dou` 少 `vau` 好 `ha`
- 副词
  - 也 `fo` 不 `b` 就 `j` 都 `do` 又 `fe` 还 `ha` 很 `he` 却 `qa` 再 `za` 最 `zu` 更 `ge` 已 `fia` 已经 `fj` 只 `vi`

### 后置

在输入的过程中，如果一个字词已经在首选出现过，那么在后续输入中它将不再位于首选，这可以充分利用编码空间，并且降低重码。

### 造词

有两种方式来造一个新词：

一是输入词的编码后，候选中会首先显示与输入编码音节数量相等的候选词，然后排在后面的是字数较少的候选词。此时可以直接通过数字键或翻页来选择字数较少的候选词，从而把词拆解成单字或较小的词依次确认上屏；这种造词方式和普通的智能拼音输入法是一样的。

但是，因为词的编码是以简拼为主，所以如果重码较多，比较难快速定位到想要的字词。这时候宜使用定位修改的方式快速把词拆解开来。按一下 1 定位到第一个音节后面，或者多按几次 1 定位到其他音节后面，补充笔画然后确认上屏。

### 临时整句

TODO

## 评测

### 效率



### 手感

击键当量 TODO

用指分布 TODO

## 附录

### 零声母音节的拼写示例

这个表格主要是为了让大家理解三拼对零声母的处理方式，需要注重观察规律，请勿死记硬背。

| 音节 | 声母 | 韵头 | 韵尾 | 拼写 |
| --- | :-: | :-: | :-: | --- |
| 挖 wa | 零合 | ua | 无 | si |
| 歪 wai | 零合 | ua | i | sii |
| 弯 wan | 零合 | ua | n | sia |
| 汪 wang | 零合 | ua | ng | sio |
| 微 wei | 零合 | ue | i | sui |
| 温 wen | 零合 | ue | n | sua |
| 翁 weng | 零合 | ue | ng | suo |
| 窝 wo | 零合 | uo | 无 | so |
| 乌 wu | 零合 | u | 无 | su |
| 压 ya | 零齐 | ia | 无 | fu |
| 腰 yao | 零齐 | ia | u | fuu |
| 烟 yan | 零齐 | ia | n | fua |
| 央 yang | 零齐 | ia | ng | fuo |
| 椰 ye | 零齐 | ie | 无 | fo |
| 哟 yo | 零齐 | io | 无 | fe |
| 优 you | 零齐 | io | u | feu |
| 庸 yong | 零齐 | io | ng | feo |
| 一 yi | 零齐 | i | 无 | fi |
| 因 yin | 零齐 | i | n | fia |
| 应 ying | 零齐 | i | ng | fio |
| 迂 yu | 零撮 | ü | 无 | ke |
| 晕 yun | 零撮 | ü | n | kea |
| 渊 yuan | 零撮 | üa | n | kaa |
| 约 yue | 零撮 | üe | 无 | ka |
