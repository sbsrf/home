---

title: 声笔扩展
date: 2024-3-9 16:45:05
comments: false
typora-root-url: ..\..\public
---

声笔拼音的顶功模式出现后，使得整句类输入方案也可以获得类似字词型输入方案顶功的效果，而且同时还享有整句的一些优点。所以，声笔恢复了之前的一些基于拼音和笔画的声笔整句方案，包括声笔简整、声笔鹤整和声笔自整，它们可以共享固态词库和用户词库。但是，飞系的方案无法进行这种共享，同时因为其专业特性也不适合采用整句模式，因而就没有恢复。另外，还新增了声笔三拼。

声笔输入法扩展包提供了对声笔拼音方案的增强，具体包括：

1. 从[雾凇拼音](https://github.com/iDvel/rime-ice)词库生成的 150 万扩展词库，分为 `sbpy.ext` 和 `sbpy.tencent` 两个文件；
2. 从 [rime-pure](https://github.com/SivanLaai/rime-pure) 获得的华宇拼音 v7 语言模型，用于智能组句以及上下文自动码长调整；

安装扩展包前，请先安装声笔输入法基本包。基本包中已经包含了声笔拼音和声笔简整两种整句方案，但是它们只有54万基本词组。在安装基础包后，您有两种选择来安装扩展包：

1. 二进制安装：从 Releases 中下载 zip 压缩包，解压后复制到用户文件夹，重新部署即可；
2. 源码安装：下载本仓库的文件，复制到用户文件夹，重新部署即可。

在第一种方式能满足需求的情况下，请尽量采用第一种方式，因为它的部署速度要快得多，发生错误的概率也会小很多。只有深度定制时，才可能用到第二种方式。

注意，本扩展包包含了一个 `sbpy.custom.yaml` 补丁文件，里面包含了对扩展词库和语言模型的配置；如果您已经使用了补丁的方式定制了声笔拼音方案，则不能直接覆盖，需要手动合并两个补丁中的内容。

[声笔拼音](../sbpy/)有专章论述，[声笔简整](../sbjm/#_7-声笔简整)在声笔简码中讲解，[声笔自整](../sbzr/#_5-声笔自整)在声笔自然中讲解，[声笔鹤整](../sbxh/#_5-声笔鹤整)在声笔小鹤中讲解，声笔三拼请参见[声笔三拼](../posts/sbsp.html)。
